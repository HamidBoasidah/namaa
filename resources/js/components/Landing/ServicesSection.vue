<script setup lang="ts">
import { computed } from 'vue';

interface ServiceItem {
  title: string;
  description: string;
  icon?: string;
  image?: string;
  background_color?: string;
  link?: string;
  link_text?: string;
}

interface Props {
  section: {
    title?: string;
    subtitle?: string;
    items?: ServiceItem[];
  };
}

const props = defineProps<Props>();

// Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ØªØ±ØªÙŠØ¨
const defaultColors = [
  'bg-[#FFE4E6]',   // ÙˆØ±Ø¯ÙŠ ÙØ§ØªØ­
  'bg-[#F4E5FB]',   // Ø¨Ù†ÙØ³Ø¬ÙŠ ÙØ§ØªØ­
  'bg-[#D5F5F3]',   // ØªØ±ÙƒÙˆØ§Ø² ÙØ§ØªØ­
  'bg-[#FEF3C7]',   // Ø£ØµÙØ± ÙØ§ØªØ­
  'bg-[#E0F2FE]',   // Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­
  'bg-[#FCE7F3]',   // ÙˆØ±Ø¯ÙŠ
];

const defaultServices: ServiceItem[] = [
  {
    title: 'ØªØ­Ù„ÙŠÙ„ Ù…Ø§Ù„ÙŠ',
    description: 'ØªÙ‚Ø¯ÙŠØ± Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ ÙˆØ§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ ÙˆØ­Ø³Ø§Ø¨ Ù…Ø¤Ø´Ø±Ø§Øª Ù…Ø«Ù„ Ù†Ù‚Ø·Ø© Ø§Ù„ØªØ¹Ø§Ø¯Ù„ ÙˆØ§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±.',
    background_color: 'bg-[#FFE4E6]',
    icon: 'ğŸ“Š',
    link: '/services/financial-analysis',
    link_text: 'Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
  },
  {
    title: 'ØªØ­Ù„ÙŠÙ„ Ø³ÙˆÙ‚',
    description: 'Ø¯Ø±Ø§Ø³Ø© Ø­Ø¬Ù… Ø§Ù„Ø³ÙˆÙ‚ØŒ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…ØµØ§ÙØŒ Ø³Ù„ÙˆÙƒÙ‡Ù…ØŒ ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† Ù„Ø§ÙƒØªØ´Ø§Ù ÙØ±Øµ Ø§Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„ØªÙ‡Ø¯ÙŠØ¯Ø§Øª.',
    background_color: 'bg-[#F4E5FB]',
    icon: 'ğŸ”',
    link: '/services/market-analysis',
    link_text: 'Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
  },
  {
    title: 'Ø¯Ø±Ø§Ø³Ø© Ø¬Ø¯ÙˆÙ‰',
    description: 'Ø¯Ø±Ø§Ø³Ø© Ø­Ø¬Ù… Ø§Ù„Ø³ÙˆÙ‚ØŒ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ØŒ Ø³Ù„ÙˆÙƒÙ‡Ù…ØŒ ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† Ù„Ø§ÙƒØªØ´Ø§Ù ÙØ±Øµ Ø§Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„ØªÙ‡Ø¯ÙŠØ¯Ø§Øª.',
    background_color: 'bg-[#D5F5F3]',
    icon: 'ğŸ’¡',
    link: '/services/feasibility',
    link_text: 'Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
  },
  {
    title: 'ØªÙ‚ÙŠÙŠÙ… Ø£Ø¹Ù…Ø§Ù„',
    description: 'ÙØ­Øµ Ø£Ø¯Ø§Ø¡ ÙˆÙ†Ù…Ùˆ ÙˆÙ…Ø±Ø¯ÙˆØ¯ÙŠØ© Ø§Ù„Ø´Ø±ÙƒØ© Ù„ØªØ­Ø¯ÙŠØ¯ Ù‚ÙŠÙ…ØªÙ‡Ø§ Ø§Ù„Ø³ÙˆÙ‚ÙŠØ© Ø£Ùˆ Ø¬Ø§Ø°Ø¨ÙŠØªÙ‡Ø§ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø£Ùˆ Ø§Ù„Ø¨ÙŠØ¹.',
    background_color: 'bg-[#FEF3C7]',
    icon: 'âœ…',
    link: '/services/business-evaluation',
    link_text: 'Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
  },
  {
    title: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ø³ØªØ«Ù…Ø§Ø±',
    description: 'Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØªÙ†Ø¸ÙŠÙ… Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±Øµ ÙˆØªÙˆØ²ÙŠØ¹ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø­ØªÙ‰ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø·Ø±.',
    background_color: 'bg-[#E0F2FE]',
    icon: 'ğŸ’¼',
    link: '/services/investment-management',
    link_text: 'Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
  },
  {
    title: 'Ø®Ø·Ø© Ø¹Ù…Ù„',
    description: 'ÙˆØ«ÙŠÙ‚Ø© ØªÙˆØ¶Ø­ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ ÙˆØ®Ø·ÙˆØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ØŒ ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©ØŒ ÙˆØ§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ© Ù„ÙØªØ±Ø© Ø²Ù…Ù†ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©.',
    background_color: 'bg-[#FCE7F3]',
    icon: 'ğŸ“‹',
    link: '/services/business-plan',
    link_text: 'Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
  },
];

const services = computed(() => props.section.items || defaultServices);

// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ÙˆÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
const getCardColor = (service: ServiceItem, index: number) => {
  return service.background_color || defaultColors[index % defaultColors.length];
};
</script>

<template>
  <section id="services" class="relative w-full py-24 bg-white">
    <div class="max-w-7xl mx-auto px-8">
      <!-- Section Header -->
      <div class="text-center mb-16">
        <div class="inline-block px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-full mb-4">
          Ø§Ù„Ø®Ø¯Ù…Ø§Øª
        </div>
        <h2 class="text-4xl font-bold text-gray-900 mb-4">
          {{ section.title || 'Ø®Ø¯Ù…Ø§Øª Ù…ØªÙƒØ§Ù…Ù„Ø© ØªÙØªÙ‚ÙŠ Ù…Ø´Ø±ÙˆØ¹Ùƒ' }}
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          {{ section.subtitle || 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø§Ù„Ù…ØµÙ…Ù…Ø© Ù„Ø¯Ø¹Ù… Ù†Ù…Ùˆ Ø£Ø¹Ù…Ø§Ù„Ùƒ' }}
        </p>
      </div>

      <!-- Services Grid -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div
          v-for="(service, index) in services"
          :key="index"
          class="group relative rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 h-[320px]"
          :class="getCardColor(service, index)"
        >
          <div class="p-6 h-full flex flex-col">
            <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†ØµÙŠ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ -->
            <div class="text-right mb-auto">
              <h3 class="text-xl font-bold text-gray-900 mb-3">
                {{ service.title }}
              </h3>
              <p class="text-gray-700 leading-relaxed text-sm line-clamp-3">
                {{ service.description }}
              </p>
            </div>
            <!-- Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§Ù„Ø²Ø± ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ -->
            <div class="flex items-end justify-between gap-4 mt-4">
              <a
                :href="service.link || '#'"
                class="inline-flex items-center gap-1.5 px-4 py-2 bg-gray-900 text-white text-xs font-medium rounded-full hover:bg-gray-800 transition-all whitespace-nowrap"
              >
                <svg class="w-3.5 h-3.5 rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
                <span>{{ service.link_text || 'Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª' }}</span>
              </a>
              <div class="w-24 h-24 flex-shrink-0 flex items-center justify-center">
                <img 
                  v-if="service.image"
                  :src="service.image" 
                  :alt="service.title"
                  class="w-full h-full object-contain"
                />
                <span v-else class="text-6xl">{{ service.icon || 'ğŸ“„' }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>
